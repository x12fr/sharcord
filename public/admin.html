<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    function send(action) {
      const val = document.getElementById(action + 'Input')?.value;
      if (action === 'strobe') socket.emit('strobe', parseInt(val));
      if (action === 'announcement') socket.emit('announcement', val);
      if (action === 'timeout') socket.emit('timeout', { username: val, duration: parseInt(document.getElementById('timeoutDuration').value) });
      if (action === 'kick') socket.emit('kick', val);
      if (action === 'redirect') socket.emit('redirect', { username: val, url: document.getElementById('redirectURL').value });
      if (action === 'spam') socket.emit('spam', val);
      if (action === 'clear') socket.emit('clear chat');
      if (action === 'grant') socket.emit('grant admin', { username: val, duration: parseInt(document.getElementById('adminDuration').value) });
      if (action === 'jumpscare') {
        const img = document.getElementById('scareImage').value;
        const aud = document.getElementById('scareAudio').value;
        socket.emit('jumpscare', { image: img, audio: aud });
      }
    }
  </script>
</head>
<body>
  <h1>Admin Panel</h1>
  <button onclick="send('strobe')">Strobe Screen</button> Duration (sec): <input id="strobeInput" type="number" value="3"><br><br>

  <input id="announcementInput" placeholder="Announcement text">
  <button onclick="send('announcement')">Send Announcement</button><br><br>

  <input id="timeoutInput" placeholder="User to timeout">
  <input id="timeoutDuration" type="number" value="10"> sec
  <button onclick="send('timeout')">Timeout User</button><br><br>

  <input id="kickInput" placeholder="User to kick">
  <button onclick="send('kick')">Kick User</button><br><br>

  <input id="redirectInput" placeholder="User to redirect">
  <input id="redirectURL" placeholder="URL">
  <button onclick="send('redirect')">Redirect</button><br><br>

  <input id="spamInput" placeholder="User to spam">
  <button onclick="send('spam')">Spam Tabs</button><br><br>

  <button onclick="send('clear')">Clear Chat</button><br><br>

  <input id="grantInput" placeholder="User to grant admin">
  <input id="adminDuration" type="number" value="60"> sec
  <button onclick="send('grant')">Grant Admin Temporarily</button><br><br>

  <input id="scareImage" placeholder="Image URL">
  <input id="scareAudio" placeholder="Audio URL">
  <button onclick="send('jumpscare')">Trigger Jumpscare</button>
</body>
</html>
